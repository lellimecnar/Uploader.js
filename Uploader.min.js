!function(e,t){if("function"==typeof define&&define.amd)define("Private",["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var n={exports:{}};t(n.exports,n),e.Private=n.exports}}(this,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=[],l=[],i=function(){function e(){n(this,e)}return o(e,[{key:"set",value:function(e,t){var n=r.indexOf(e);0>=n&&(n=r.push(e)-1),l[n]=t}},{key:"get",value:function(e){return l[r.indexOf(e)]}}]),e}();t.exports=i}),function(e,t){if("function"==typeof define&&define.amd)define("Uploader",["exports","module","./Private"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module,require("./Private"));else{var n={exports:{}};t(n.exports,n,e.Private),e.Uploader=n.exports}}(this,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n in t)e[n]=t[n];return e}function i(e){return e=e instanceof HTMLElement?[e]:"string"==typeof e&&""!==e?document.querySelectorAll(e):[document.createElement("a")]}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=o(n),f=new u["default"],c=(new u["default"],{allowMultiple:!0,accept:null,uploadURL:"/",fieldName:"file[]",progressBar:null,beforeFileSelect:function(e){console.log("beforeFileSelect")},onFileSelect:function(e,t){console.log("onFileSelect",e,t)},beforeUpload:function(e){console.log("beforeUpload",e)},onProgress:function(e,t){console.log("onProgress",e,t)},afterUpload:function(e){console.log("afterUpload",e)},onError:function(e){}}),s=function(){function e(t,n){r(this,e),t=i(t),n=l(c,n),n.progressBar&&(n.progressBar=i(n.progressBar));var o=document.createElement("input");o.setAttribute("type","file"),n.allowMultiple&&o.setAttribute("multiple","multiple"),null!==n.accept&&o.setAttribute("accept",n.accept),f.set(this,o),[].forEach.call(t,function(e){e.addEventListener("click",function(e){e.preventDefault(),n.beforeFileSelect(e)!==!1&&o.click()})}),o.addEventListener("change",function(e){n.onFileSelect(e,this.files);var t=new FormData,o=new XMLHttpRequest;for(var r in this.files)t.append(n.fieldName,this.files[r]);o.upload.addEventListener("progress",function(e){var t=null;e.lengthComputable&&(t=Math.round(100*e.loaded/e.total*100)/100,n.progressBar&&[].forEach.call(n.progressBar,function(e){e.style.width=Math.round(t)+"%"})),n.onProgress(e,t)}),o.upload.addEventListener("load",function(e){n.afterUpload(e)}),o.upload.addEventListener("error",function(e){n.onError(e)}),o.open("POST",n.uploadURL),o.setRequestHeader("Cache-Control","no-cache"),n.beforeUpload(o)!==!1&&o.send(t)})}return a(e,null,[{key:"DEFAULT_OPTS",get:function(){return c}}]),e}();t.exports=s});
//# sourceMappingURL=Uploader.min.js.map